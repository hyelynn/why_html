<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ART BY US</title>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

    <!-- Bootstrap 4.3.1 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Custom -->
    <link rel="stylesheet" href="../css/custom.css">
    <link rel="stylesheet" href="../css/custom_host.css">

    <!-- Fontawesome -->
    <link rel="stylesheet" href="../css/fontawesome/css/all.min.css">
</head>

<body>
    <!-- 모달 -->
    <div id="modals"></div>

    <!-- 서브 헤더 -->
    <header id="header"></header>

    <main role="main">
        <div class="container overflow-hidden my-md-5 my-4 px-md-0">
            <!-- 등록 프로세스 : 글자 줄바꿈 현상 때문에 min-width 992px(lg)에서 해당 프로세스 글자만 출력 -->
            <div class="mb-md-5 mb-4 font-weight-light host-regist-proc">
                <div class="row">
                    <div class="col-lg-3 col-12">
                        <p class="mb-0 pb-2 step active">01. 카테고리 선택</p>
                    </div>
                    <div class="col-lg-3 col-12 d-lg-block d-none">
                        <p class="mb-0 pb-2 step active">02. 소개 입력</p>
                    </div>
                    <div class="col-lg-3 col-12 d-lg-block d-none">
                        <p class="mb-0 pb-2 step">03. 세부 정보 입력</p>
                    </div>
                    <div class="col-lg-3 col-12 d-lg-block d-none">
                        <p class="mb-0 pb-2 step">04. 요금 체계 및 시간 설정</p>
                    </div>
                </div>
            </div>

            <!-- 클래스 소개입력 -->
            <h3 class="mb-md-4 mb-3">클래스 소개를 입력해 주세요</h3>

            <!-- form -->
            <div class="custom-inputs-sub not host-register-form">
                <!-- 대표 이미지 -->
                <div class="mb-lg-5 mb-3">
                    <div class="text-gray font-weight-light">
                        <label class="float-left">대표 이미지 (1장)</label>
                    </div>
                    <div class="d-flex custom-file">
                        <input class="upload-name form-control flex-fill" value="JPG, PNG 파일만 가능합니다." disabled="disabled">
                        <label for="thumbsFile" class="btn flex-fill fnc-btn mb-0 bg-yellow whitespace-nowrap fnc-btn">업로드</label>
                        <input type="file" id="thumbsFile" class="upload-hidden">
                    </div>
                </div>

                <!-- 추가 이미지 -->
                <div class="mb-lg-5 mb-3">
                    <div class="text-gray font-weight-light">
                        <label class="float-left">추가 이미지 (최대 14장)</label>
                    </div>
                    <div class="d-flex custom-file mb-3">
                        <input class="upload-name form-control flex-fill" value="최대 14장, JPG, PNG 파일만 가능합니다" disabled="disabled">
                        <label for="classImageA1" class="btn flex-fill fnc-btn mb-0 bg-yellow whitespace-nowrap fnc-btn">업로드</label>
                        <input type="file" id="classImageA1" class="upload-hidden">
                    </div>
                    <div class="d-flex custom-file mb-3">
                        <input class="upload-name form-control flex-fill" value="최대 14장, JPG, PNG 파일만 가능합니다" disabled="disabled">
                        <label for="classImageA2" class="btn flex-fill fnc-btn mb-0 bg-yellow whitespace-nowrap fnc-btn">업로드</label>
                        <input type="file" id="classImageA2" class="upload-hidden">
                    </div>
                    <!-- 추가버튼 -->
                    <button type="button" class="btn border font-weight-light font-size-xs sm-btn" onclick="addInputFile(this)">
                        <i class="fas fa-plus mr-lg-1 mr-0 text-sky"></i><span class="d-inline-block">추가</span>
                    </button>
                </div>

                <!-- 소개 영상 -->
                <div class="mb-lg-5 mb-3">
                    <div class="text-gray font-weight-light">
                        <label for="class_youtube" class="float-left">소개 영상</label>
                        <span class="float-right">0/20</span>
                    </div>
                    <input type="text" id="class_youtube" class="form-control" placeholder="YouTube URL로 업로드 해주세요">
                </div>

                <!-- 클래스 상세 소개 -->
                <div class="mb-lg-5 mb-3">
                    <div class="text-gray font-weight-light">
                        <label for="class_text" class="float-left">클래스 상세 소개</label>
                        <span class="float-right">0/700</span>
                    </div>
                    <textarea name="" id="class_text" class="form-control large" placeholder="클래스 소개글을 작성하세요"></textarea>
                </div>

                <!-- 추가 이미지(본문) -->
                <div class="mb-lg-5 mb-3">
                    <div class="text-gray font-weight-light">
                        <label class="float-left">추가 이미지 (최대 14장)</label>
                    </div>
                    <div class="d-flex custom-file mb-3">
                        <input class="upload-name form-control flex-fill" value="최대 14장, JPG, PNG 파일만 가능합니다" disabled="disabled">
                        <label for="classImageB1" class="btn flex-fill fnc-btn mb-0 bg-yellow whitespace-nowrap fnc-btn">업로드</label>
                        <input type="file" id="classImageB1" class="upload-hidden">
                    </div>
                    <div class="d-flex custom-file mb-3">
                        <input class="upload-name form-control flex-fill" value="최대 14장, JPG, PNG 파일만 가능합니다" disabled="disabled">
                        <label for="classImageB2" class="btn flex-fill fnc-btn mb-0 bg-yellow whitespace-nowrap fnc-btn">업로드</label>
                        <input type="file" id="classImageB2" class="upload-hidden">
                    </div>
                    <!-- 추가버튼 -->
                    <button type="button" class="btn border font-weight-light font-size-xs sm-btn" onclick="addInputFile(this)">
                        <i class="fas fa-plus mr-lg-1 mr-0 text-sky"></i><span class="d-inline-block">추가</span>
                    </button>
                </div>

                <!-- 클래스 검색 태그 -->
                <div class="mb-lg-5 mb-3">
                    <div class="text-gray font-weight-light">
                        <label>클래스 검색 태그</label>
                    </div>
                    <div class="d-flex">
                        <input type="text" id="tagText" class="form-control" placeholder="사용자가 검색할 수 있는 키워드를 입력해 주세요.">
                        <button type="button" class="btn bg-yellow fnc-btn" onclick="addTag()">추가하기</button>
                    </div>

                    <!-- 태그 -->
                    <div class="d-flex align-content-center flex-wrap host-search-tags tags">
                        <div class="tag mt-3">
                            <span class="mr-lg-2">서초동</span>
                            <button type="button" class="btn bg-transparent" onclick="removeTag(this)"><i class="fa fa-times text-red"></i></button>
                        </div>
                        <div class="tag mt-3">
                            <span class="mr-lg-2">서초역</span>
                            <button type="button" class="btn bg-transparent" onclick="removeTag(this)"><i class="fa fa-times text-red"></i></button>
                        </div>
                        <div class="tag mt-3">
                            <span class="mr-lg-2">현대무용</span>
                            <button type="button" class="btn bg-transparent" onclick="removeTag(this)"><i class="fa fa-times text-red"></i></button>
                        </div>
                    </div>
                </div>

                <!-- 클래스 이용 약관 -->
                <div class="mb-lg-5 mb-3">
                    <div class="text-gray font-weight-light">
                        <label for="class_terms" class="float-left">클래스 이용 약관</label>
                        <span class="float-right">0/700</span>
                    </div>
                    <textarea name="" id="class_terms" class="form-control large" placeholder="사용자가 인지할 수 있는 약관을 작성하세요. ※ 환불규정은 아트바이어스의 공동 환불정책으로 적용됩니다."></textarea>
                </div>

                <!-- 주의사항 -->
                <div class="mb-lg-5 mb-3">
                    <div class="text-gray font-weight-light">
                        <label for="class_caution" class="float-left">주의사항</label>
                    </div>
                    <input type="text" id="class_caution" class="form-control mb-3" placeholder="악기는 직접 들고 오셔야 합니다.">

                    <div class="d-flex">
                        <input type="text" class="form-control" placeholder="주의사항을 입력해 주세요">
                        <button type="button" class="btn bg-yellow fnc-btn">추가하기</button>
                    </div>
                </div>

                <!-- 클래스 오시는 길 -->
                <div class="mb-lg-5 mb-3">
                    <div class="text-gray font-weight-light">
                        <label for="class_addr">오시는 길</label>
                    </div>
                    <textarea name="" id="class_addr" class="form-control large" placeholder="예) 601, 5528번 버스를 타고 관악경찰서 하차, 서울대입구역에서 도보 500m"></textarea>
                </div>
            </div>
        </div>

        <!-- 이전단계 / 다음단계 -->
        <div class="overflow-hidden mt-lg-5 mt-3">
            <a href="class_register2.html" class="btn bg-gray float-left w-50 rounded-0 py-lg-4 py-3 font-size-m" onclick="history.back()">이전 단계로 이동</a>
            <a href="class_register4.html" class="btn bg-yellow float-right w-50 rounded-0 py-lg-4 py-3 font-size-m">다음으로 이동</a>
        </div>
    </main>

    <!-- 서브 푸터 -->
    <footer id="footer"></footer>

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script src="../js/include_html_host.js"></script>
    <!-- <script src="../js/custom.js"></script> -->
</body>

<script>
    $(function () {
        var fileTarget = $('.custom-inputs-sub.not .upload-hidden');
        fileTarget.on('change', function() {
            // 값이 변경되면
            if(window.FileReader){ // modern browser
                var filename = $(this)[0].files[0].name;
            } else { // old IE
                var filename = $(this).val().split('/').pop().split('\\').pop(); // 파일명만 추출
            }
            // 추출한 파일명 삽입
            $(this).siblings('.upload-name').val(filename);
        });
    })

    // file input 추가
    function addInputFile(obj) {
        if ($(obj).parent().find('div.custom-file').length + 1 > 14) {
            return;
        }

        let $last = $(obj).parent().find('div.custom-file:last');
        let id = $last.find('input[type=file]').prop('id').replace(/[1-9]/g, '');
        let new_id = id + (parseInt( $last.find('input[type=file]').prop('id').match(/\d+/g), 10 ) + 1);
        let $clone = $last.clone(true);

        $clone.find('input[type=file]').prop('id', new_id).val('');
        $clone.find('input.upload-name').val('최대 14장, JPG, PNG 파일만 가능합니다');
        $clone.find('label').prop('for', new_id);

        $last.after($clone)
    }

    // tag 추가
    function addTag() {
        let tag = $('#classTag').val();

        if (!tag) {
            alert('태그를 입력하세요.');
            $('#classTag').focus();
            return;
        }

        let $clone = $('div.tag:last').clone(true);
        $clone.find('span').text(tag);
        $('.host-search-tags').append($clone);
    }

    // tag 삭제
    function removeTag(obj) {
        $(obj).parent().remove();
    }
</script>

</html>